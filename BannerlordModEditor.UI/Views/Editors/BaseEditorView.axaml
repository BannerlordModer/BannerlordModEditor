<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="BannerlordModEditor.UI.Views.Editors.BaseEditorView">
             
  <Grid RowDefinitions="Auto,*">
    <!-- å·¥å…·æ  -->
    <Border Grid.Row="0" Background="{DynamicResource SystemControlBackgroundAltHighBrush}" 
            BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}" 
            BorderThickness="0,0,0,1" Padding="16,12">
      <Grid ColumnDefinitions="Auto,Auto,Auto,*,Auto,Auto">
        <!-- æ–‡ä»¶æ“ä½œ -->
        <Button Grid.Column="0" Content="ðŸ“ åŠ è½½" Command="{Binding LoadFileAsyncCommand}" 
                Margin="0,0,8,0" Classes="accent" />
        <Button Grid.Column="1" Content="ðŸ’¾ ä¿å­˜" Command="{Binding SaveFileAsyncCommand}" 
                Margin="0,0,8,0" Classes="accent" />
        <Button Grid.Column="2" Content="âž• æ·»åŠ " Command="{Binding AddItemCommand}" 
                Margin="0,0,16,0" Classes="accent" />
        
        <!-- æ–‡ä»¶ä¿¡æ¯ -->
        <StackPanel Grid.Column="3" Orientation="Horizontal" VerticalAlignment="Center">
          <TextBlock Text="ðŸ“„ " Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" />
          <TextBlock Text="{Binding FilePath}" FontWeight="Medium" />
          <TextBlock Text=" (æœªä¿å­˜)" IsVisible="{Binding HasUnsavedChanges}" 
                     Foreground="{DynamicResource SystemAccentColor}" FontWeight="Bold" Margin="8,0,0,0" />
        </StackPanel>
        
        <!-- æœç´¢æ¡† -->
        <TextBox Grid.Column="4" Width="200" Margin="0,0,8,0"
                 Text="{Binding SearchFilter}" 
                 Watermark="æœç´¢..." />
        
        <!-- çŠ¶æ€ä¿¡æ¯ -->
        <StackPanel Grid.Column="5" Orientation="Horizontal" VerticalAlignment="Center">
          <TextBlock Text="{Binding StatusMessage}" 
                     Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}" />
          <ProgressBar IsVisible="{Binding IsLoading}" Width="60" Height="16" Margin="8,0,0,0" />
        </StackPanel>
      </Grid>
    </Border>

    <!-- ä¸»è¦å†…å®¹åŒºåŸŸ - ç”±æ´¾ç”Ÿç±»å®žçŽ° -->
    <ContentControl Grid.Row="1" Content="{Binding}" />
  </Grid>
</UserControl>