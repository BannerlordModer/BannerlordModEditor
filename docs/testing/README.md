# BannerlordModEditor-CLI æµ‹è¯•å¥—ä»¶æ–‡æ¡£

## æ–‡æ¡£æ¦‚è§ˆ

æœ¬æ–‡æ¡£æ˜¯BannerlordModEditor-CLIé¡¹ç›®å®Œæ•´æµ‹è¯•å¥—ä»¶çš„å…¥å£ç‚¹ï¼ŒåŒ…å«äº†æ‰€æœ‰æµ‹è¯•ç›¸å…³çš„ç­–ç•¥ã€ç”¨ä¾‹ã€é…ç½®å’Œç»´æŠ¤æŒ‡å—ã€‚

## ğŸ“š æ–‡æ¡£ç»“æ„

### æ ¸å¿ƒæ–‡æ¡£

| æ–‡æ¡£ | æè¿° | å¤§å° | æœ€åæ›´æ–° |
|------|------|------|----------|
| [test-strategy.md](./test-strategy.md) | æµ‹è¯•ç­–ç•¥å’Œç›®æ ‡ | 10KB | 2024-08-27 |
| [test-cases.md](./test-cases.md) | 475ä¸ªæµ‹è¯•ç”¨ä¾‹æ¸…å• | 22KB | 2024-08-27 |
| [ci-testing.md](./ci-testing.md) | æŒç»­é›†æˆæµ‹è¯•é…ç½® | 12KB | 2024-08-27 |
| [performance-testing.md](./performance-testing.md) | æ€§èƒ½æµ‹è¯•åŸºå‡†å’Œå·¥å…· | 24KB | 2024-08-27 |
| [test-maintenance.md](./test-maintenance.md) | æµ‹è¯•ç®¡ç†å’Œç»´æŠ¤æŒ‡å— | 28KB | 2024-08-27 |

## ğŸ¯ æµ‹è¯•è¦†ç›–ç›®æ ‡

### è¦†ç›–ç‡è¦æ±‚
- **å•å…ƒæµ‹è¯•**: â‰¥95% è¡Œè¦†ç›–ç‡
- **é›†æˆæµ‹è¯•**: â‰¥90% åŠŸèƒ½è¦†ç›–ç‡
- **ç³»ç»Ÿæµ‹è¯•**: â‰¥85% åœºæ™¯è¦†ç›–ç‡
- **æ€§èƒ½æµ‹è¯•**: â‰¥80% æ€§èƒ½å…³é”®è·¯å¾„è¦†ç›–ç‡

### æµ‹è¯•æ•°é‡ç»Ÿè®¡
- **æ€»æµ‹è¯•ç”¨ä¾‹**: 475ä¸ª
- **XMLå¤„ç†æµ‹è¯•**: 200ä¸ª
- **DO/DTOè½¬æ¢æµ‹è¯•**: 100ä¸ª
- **æœåŠ¡å±‚æµ‹è¯•**: 75ä¸ª
- **ç”¨æˆ·ç•Œé¢æµ‹è¯•**: 50ä¸ª
- **é›†æˆæµ‹è¯•**: 50ä¸ª

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. è¿è¡Œæµ‹è¯•å¥—ä»¶
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
dotnet test

# è¿è¡Œç‰¹å®šé¡¹ç›®æµ‹è¯•
dotnet test BannerlordModEditor.Common.Tests
dotnet test BannerlordModEditor.UI.Tests

# è¿è¡Œæ€§èƒ½æµ‹è¯•
dotnet test --filter "Category=Performance"

# è¿è¡Œé›†æˆæµ‹è¯•
dotnet test --filter "Category=Integration"
```

### 2. ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
```bash
# å®‰è£…æŠ¥å‘Šç”Ÿæˆå·¥å…·
dotnet tool install -g dotnet-reportgenerator-globaltool

# ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
reportgenerator -reports:TestResults/**/coverage.cobertura.xml \
  -targetdir:TestResults/CoverageReport \
  -reporttypes:Html
```

### 3. æ€§èƒ½æµ‹è¯•
```bash
# è¿è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•
dotnet run --configuration Release --project BenchmarkTests

# ç”Ÿæˆæ€§èƒ½æŠ¥å‘Š
dotnet trace collect --process-id <PID> --providers Microsoft-DotNETCore-SampleProfiler
```

## ğŸ“Š æµ‹è¯•åˆ†ç±»

### 1. æŒ‰æµ‹è¯•ç±»å‹åˆ†ç±»
```
æµ‹è¯•ç±»å‹åˆ†å¸ƒï¼š
â”œâ”€â”€ å•å…ƒæµ‹è¯• (Unit Tests) - 40%
â”œâ”€â”€ é›†æˆæµ‹è¯• (Integration Tests) - 20%
â”œâ”€â”€ ç³»ç»Ÿæµ‹è¯• (System Tests) - 15%
â”œâ”€â”€ æ€§èƒ½æµ‹è¯• (Performance Tests) - 15%
â””â”€â”€ å®‰å…¨æµ‹è¯• (Security Tests) - 10%
```

### 2. æŒ‰ä¼˜å…ˆçº§åˆ†ç±»
```
ä¼˜å…ˆçº§åˆ†å¸ƒï¼š
â”œâ”€â”€ å…³é”®æµ‹è¯• (Critical) - 25%
â”œâ”€â”€ é‡è¦æµ‹è¯• (Important) - 45%
â”œâ”€â”€ ä¸€èˆ¬æµ‹è¯• (Normal) - 25%
â””â”€â”€ è¾…åŠ©æµ‹è¯• (Auxiliary) - 5%
```

### 3. æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç±»
```
åŠŸèƒ½æ¨¡å—åˆ†å¸ƒï¼š
â”œâ”€â”€ XMLå¤„ç† - 40%
â”œâ”€â”€ æ•°æ®è½¬æ¢ - 20%
â”œâ”€â”€ æœåŠ¡å±‚ - 15%
â”œâ”€â”€ ç”¨æˆ·ç•Œé¢ - 15%
â””â”€â”€ é›†æˆæµ‹è¯• - 10%
```

## ğŸ”§ æµ‹è¯•å·¥å…·å’ŒæŠ€æœ¯æ ˆ

### æ ¸å¿ƒæµ‹è¯•æ¡†æ¶
- **xUnit 2.5**: å•å…ƒæµ‹è¯•æ¡†æ¶
- **coverlet**: ä»£ç è¦†ç›–ç‡å·¥å…·
- **ReportGenerator**: æµ‹è¯•æŠ¥å‘Šç”Ÿæˆå™¨
- **FluentAssertions**: æ–­è¨€åº“
- **Moq**: æ¨¡æ‹Ÿæ¡†æ¶

### æ€§èƒ½æµ‹è¯•å·¥å…·
- **BenchmarkDotNet**: æ€§èƒ½åŸºå‡†æµ‹è¯•
- **dotnet-counters**: æ€§èƒ½è®¡æ•°å™¨
- **dotnet-trace**: æ€§èƒ½è·Ÿè¸ª
- **dotnet-dump**: å†…å­˜è½¬å‚¨åˆ†æ

### æŒç»­é›†æˆå·¥å…·
- **GitHub Actions**: CI/CDæµæ°´çº¿
- **Docker**: å®¹å™¨åŒ–æµ‹è¯•ç¯å¢ƒ
- **Slack**: é€šçŸ¥é›†æˆ
- **Codecov**: è¦†ç›–ç‡æŠ¥å‘Š

## ğŸ“ˆ è´¨é‡æŒ‡æ ‡

### ä»£ç è´¨é‡æŒ‡æ ‡
- **æµ‹è¯•é€šè¿‡ç‡**: 100%
- **ä»£ç è¦†ç›–ç‡**: â‰¥95%
- **å¤æ‚åº¦**: å¹³å‡åœˆå¤æ‚åº¦ < 10
- **é‡å¤ç‡**: ä»£ç é‡å¤ç‡ < 5%

### æ€§èƒ½æŒ‡æ ‡
- **XMLå¤„ç†æ—¶é—´**: < 5ç§’ (å¤§å‹æ–‡ä»¶)
- **å†…å­˜ä½¿ç”¨**: < 512MB (å³°å€¼)
- **å¯åŠ¨æ—¶é—´**: < 2ç§’
- **å¹¶å‘å¤„ç†**: æ”¯æŒ100ä¸ªå¹¶å‘è¯·æ±‚

### ç¨³å®šæ€§æŒ‡æ ‡
- **æµ‹è¯•ç¨³å®šæ€§**: æ— éšæœºå¤±è´¥
- **é”™è¯¯æ¢å¤**: 100%é”™è¯¯æ¢å¤ç‡
- **å†…å­˜æ³„æ¼**: 0ä¸ªæ£€æµ‹åˆ°çš„æ³„æ¼
- **ç³»ç»Ÿå¯ç”¨æ€§**: 99.9%

## ğŸ¨ æµ‹è¯•æœ€ä½³å®è·µ

### 1. æµ‹è¯•å‘½åè§„èŒƒ
```csharp
[Fact]
public void MethodName_ShouldExpectedBehavior_WhenCondition()
{
    // Arrange
    // Act
    // Assert
}
```

### 2. æµ‹è¯•ç»„ç»‡ç»“æ„
```
æµ‹è¯•é¡¹ç›®ç»“æ„ï¼š
BannerlordModEditor.Common.Tests/
â”œâ”€â”€ Models/                    # æ¨¡å‹æµ‹è¯•
â”‚   â”œâ”€â”€ DO/                   # é¢†åŸŸå¯¹è±¡æµ‹è¯•
â”‚   â”œâ”€â”€ DTO/                  # æ•°æ®ä¼ è¾“å¯¹è±¡æµ‹è¯•
â”‚   â””â”€â”€ Data/                 # åŸå§‹æ•°æ®æ¨¡å‹æµ‹è¯•
â”œâ”€â”€ Services/                 # æœåŠ¡å±‚æµ‹è¯•
â”œâ”€â”€ Integration/              # é›†æˆæµ‹è¯•
â””â”€â”€ Performance/              # æ€§èƒ½æµ‹è¯•
```

### 3. æµ‹è¯•æ•°æ®ç®¡ç†
```
æµ‹è¯•æ•°æ®ç»“æ„ï¼š
TestData/
â”œâ”€â”€ Common/                   # é€šç”¨æµ‹è¯•æ•°æ®
â”œâ”€â”€ Performance/              # æ€§èƒ½æµ‹è¯•æ•°æ®
â”œâ”€â”€ EdgeCases/                # è¾¹ç•Œæƒ…å†µæ•°æ®
â””â”€â”€ Generated/                # è‡ªåŠ¨ç”Ÿæˆæ•°æ®
```

## ğŸ”„ æŒç»­é›†æˆæµç¨‹

### CI/CDæµæ°´çº¿
```
ä»£ç æäº¤ â†’ ä»£ç æ£€æŸ¥ â†’ æ„å»ºéªŒè¯ â†’ å•å…ƒæµ‹è¯• â†’ é›†æˆæµ‹è¯• â†’ æ€§èƒ½æµ‹è¯• â†’ å®‰å…¨æ‰«æ â†’ è´¨é‡æŠ¥å‘Š â†’ éƒ¨ç½²å‡†å¤‡
```

### è´¨é‡é—¨ç¦
- **å•å…ƒæµ‹è¯•é€šè¿‡ç‡**: 100%
- **ä»£ç è¦†ç›–ç‡**: â‰¥95%
- **é›†æˆæµ‹è¯•é€šè¿‡ç‡**: â‰¥98%
- **æ€§èƒ½æµ‹è¯•é€šè¿‡ç‡**: â‰¥95%
- **å®‰å…¨æ¼æ´**: 0ä¸ªé«˜å±æ¼æ´

## ğŸ“‹ æµ‹è¯•ç”¨ä¾‹æ¸…å•

### å…³é”®æµ‹è¯•ç”¨ä¾‹ (100ä¸ª)
1. **XMLå¾€è¿”æµ‹è¯•**: éªŒè¯XMLåºåˆ—åŒ–/ååºåˆ—åŒ–çš„å‡†ç¡®æ€§
2. **DO/DTOè½¬æ¢æµ‹è¯•**: éªŒè¯æ•°æ®æ¨¡å‹è½¬æ¢çš„æ­£ç¡®æ€§
3. **æ–‡ä»¶å‘ç°æœåŠ¡æµ‹è¯•**: éªŒè¯æ–‡ä»¶æ‰«æå’Œé€‚é…çŠ¶æ€æ£€æŸ¥
4. **å¤§å‹XMLå¤„ç†æµ‹è¯•**: éªŒè¯å¤§æ–‡ä»¶å¤„ç†æ€§èƒ½
5. **å¹¶å‘å¤„ç†æµ‹è¯•**: éªŒè¯çº¿ç¨‹å®‰å…¨å’Œå¹¶å‘æ€§èƒ½

### é‡è¦æµ‹è¯•ç”¨ä¾‹ (200ä¸ª)
1. **è¾¹ç•Œæ¡ä»¶æµ‹è¯•**: éªŒè¯å¼‚å¸¸è¾“å…¥çš„å¤„ç†
2. **é”™è¯¯æ¢å¤æµ‹è¯•**: éªŒè¯ç³»ç»Ÿé”™è¯¯æ¢å¤èƒ½åŠ›
3. **å†…å­˜ç®¡ç†æµ‹è¯•**: éªŒè¯å†…å­˜ä½¿ç”¨å’Œåƒåœ¾å›æ”¶
4. **æ€§èƒ½åŸºå‡†æµ‹è¯•**: éªŒè¯ç³»ç»Ÿæ€§èƒ½åŸºå‡†
5. **ç”¨æˆ·ç•Œé¢æµ‹è¯•**: éªŒè¯CLIå’ŒTUIäº¤äº’

### è¾…åŠ©æµ‹è¯•ç”¨ä¾‹ (175ä¸ª)
1. **æ–‡æ¡£æµ‹è¯•**: éªŒè¯æ–‡æ¡£ç”Ÿæˆå’Œæ›´æ–°
2. **é…ç½®æµ‹è¯•**: éªŒè¯é…ç½®æ–‡ä»¶å¤„ç†
3. **æ—¥å¿—æµ‹è¯•**: éªŒè¯æ—¥å¿—è®°å½•å’Œé”™è¯¯å¤„ç†
4. **å·¥å…·æµ‹è¯•**: éªŒè¯è¾…åŠ©å·¥å…·åŠŸèƒ½
5. **å…¼å®¹æ€§æµ‹è¯•**: éªŒè¯ç‰ˆæœ¬å…¼å®¹æ€§

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **æµ‹è¯•å¤±è´¥**: æ£€æŸ¥æµ‹è¯•æ•°æ®å’Œä¾èµ–
2. **æ€§èƒ½é—®é¢˜**: ä½¿ç”¨æ€§èƒ½åˆ†æå·¥å…·è¯Šæ–­
3. **å†…å­˜æ³„æ¼**: ä½¿ç”¨å†…å­˜åˆ†æå·¥å…·æ£€æµ‹
4. **å¹¶å‘é—®é¢˜**: æ£€æŸ¥çº¿ç¨‹å®‰å…¨å’Œé”ç«äº‰

### è°ƒè¯•å·¥å…·
```bash
# å¯ç”¨è¯¦ç»†æ—¥å¿—
dotnet test --logger "console;verbosity=detailed"

# ç”Ÿæˆè¯Šæ–­ä¿¡æ¯
dotnet test --diag diagnostic.log

# å†…å­˜åˆ†æ
dotnet-dump collect --process-id <PID>

# æ€§èƒ½åˆ†æ
dotnet-trace collect --process-id <PID>
```

## ğŸ“ æ”¯æŒå’Œè”ç³»

### æŠ€æœ¯æ”¯æŒ
- **GitHub Issues**: [æäº¤é—®é¢˜](https://github.com/your-repo/issues)
- **è®¨è®ºåŒº**: [GitHub Discussions](https://github.com/your-repo/discussions)
- **æ–‡æ¡£**: [é¡¹ç›®æ–‡æ¡£](https://github.com/your-repo/wiki)

### å›¢é˜Ÿè”ç³»
- **æµ‹è¯•è´Ÿè´£äºº**: test-lead@example.com
- **å¼€å‘å›¢é˜Ÿ**: dev-team@example.com
- **é¡¹ç›®ç»ç†**: pm@example.com

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-08-27)
- åˆå§‹æµ‹è¯•å¥—ä»¶æ–‡æ¡£
- 475ä¸ªæµ‹è¯•ç”¨ä¾‹å®šä¹‰
- å®Œæ•´çš„CI/CDé…ç½®
- æ€§èƒ½æµ‹è¯•åŸºå‡†å®šä¹‰
- æµ‹è¯•ç»´æŠ¤æŒ‡å—

### æœªæ¥è®¡åˆ’
- [ ] å¢åŠ æ›´å¤šè¾¹ç•Œæ¡ä»¶æµ‹è¯•
- [ ] æ”¹è¿›æ€§èƒ½æµ‹è¯•è¦†ç›–
- [ ] åŠ å¼ºå®‰å…¨æµ‹è¯•
- [ ] ä¼˜åŒ–æµ‹è¯•æ‰§è¡Œæ—¶é—´
- [ ] å¢åŠ è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·

## ğŸ“– ç›¸å…³æ–‡æ¡£

### é¡¹ç›®æ–‡æ¡£
- [é¡¹ç›®README](../../README.md)
- [å¼€å‘æŒ‡å—](../../docs/development.md)
- [éƒ¨ç½²æŒ‡å—](../../docs/deployment.md)

### æŠ€æœ¯æ–‡æ¡£
- [.NET 9.0 æ–‡æ¡£](https://learn.microsoft.com/en-us/dotnet/)
- [xUnit æ–‡æ¡£](https://xunit.net/)
- [coverlet æ–‡æ¡£](https://github.com/coverlet-coverage/coverlet)

### ç¤¾åŒºèµ„æº
- [.NET æµ‹è¯•æœ€ä½³å®è·µ](https://docs.microsoft.com/en-us/dotnet/core/testing/)
- [æŒç»­é›†æˆæœ€ä½³å®è·µ](https://docs.github.com/en/actions/learn-github-actions)
- [æ€§èƒ½æµ‹è¯•æŒ‡å—](https://benchmarkdotnet.org/)

---

**æ³¨æ„**: æœ¬æµ‹è¯•å¥—ä»¶æ–‡æ¡£å°†éšç€é¡¹ç›®çš„å‘å±•è€ŒæŒç»­æ›´æ–°ã€‚è¯·å®šæœŸæŸ¥çœ‹æœ€æ–°ç‰ˆæœ¬ä»¥è·å–æœ€æ–°çš„æµ‹è¯•ç­–ç•¥å’ŒæŒ‡å—ã€‚

**æœ€åæ›´æ–°**: 2024-08-27
**ç»´æŠ¤è€…**: æµ‹è¯•å›¢é˜Ÿ
**ç‰ˆæœ¬**: 1.0.0