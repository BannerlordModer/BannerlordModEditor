          // 特殊处理AttributesDO来检测是否有空的AttributeData元素
            if (obj is AttributesDO attributes)
            {
                var doc = XDocument.Parse(xml);
                var attributeDataElement = doc.Root?.Element("AttributeData");
                attributes.HasEmptyAttributes = attributeDataElement != null && 
                    (attributeDataElement.Elements().Count() == 0 || attributeDataElement.Elements("AttributeData").Count() == 0);
            }
            
            // 特殊处理ParticleSystemsDO来检测和保持复杂的XML结构
            if (obj is ParticleSystemsDO particleSystems)
            {
                var doc = XDocument.Parse(xml);
                
                // 处理每个effect的复杂结构
                if (particleSystems.Effects != null)
                {
                    for (int i = 0; i < particleSystems.Effects.Count; i++)
                    {
                        var effect = particleSystems.Effects[i];
                        var effectElement = doc.Root?.Elements("effect").ElementAt(i);
                        
                        if (effectElement != null && effect.Emitters != null)
                        {
                            // 处理每个emitter的复杂结构
                            for (int j = 0; j < effect.Emitters.EmitterList.Count; j++)
                            {
                                var emitter = effect.Emitters.EmitterList[j];
                                var emitterElement = effectElement.Element("emitters")?.Elements("emitter").ElementAt(j);
                                
                                if (emitterElement != null)
                                {
                                    // 检测空的children元素
                                    emitter.HasEmptyChildren = emitterElement.Element("children") != null;
                                    
                                    // 检测空的flags元素
                                    emitter.HasEmptyFlags = emitterElement.Element("flags") != null;
                                    
                                    // 检测空的parameters元素
                                    emitter.HasEmptyParameters = emitterElement.Element("parameters") != null;
                                    
                                    // 处理parameters中的decal_materials元素
                                    if (emitter.Parameters != null)
                                    {
                                        var parametersElement = emitterElement.Element("parameters");
                                        emitter.Parameters.HasDecalMaterials = parametersElement?.Element("decal_materials") != null;
                                        
                                        // 检测是否有空的parameters元素（即没有parameter子元素但有decal_materials）
                                        emitter.Parameters.HasEmptyParameters = parametersElement != null && 
                                            (parametersElement.Elements("parameter").Count() == 0) && 
                                            (parametersElement.Element("decal_materials") != null);
                                    }
                                    
                                    // 处理children中的空元素状态
                                    if (emitter.Children != null)
                                    {
                                        var childrenElement = emitterElement.Element("children");
                                        emitter.Children.HasEmptyEmitters = childrenElement != null && 
                                            (childrenElement.Elements("emitter").Count() == 0);
                                    }
                                    
                                    // 处理flags中的空元素状态
                                    if (emitter.Flags != null)
                                    {
                                        var flagsElement = emitterElement.Element("flags");
                                        emitter.Flags.HasEmptyFlags = flagsElement != null && 
                                            (flagsElement.Elements("flag").Count() == 0);
                                    }
                                }
                            }
                        }
                    }
                }
            }